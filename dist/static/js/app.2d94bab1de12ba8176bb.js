webpackJsonp([1],{"2lcs":function(s,t){},"7YP9":function(s,t){},"8qks":function(s,t){},NHnr:function(s,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=e("7+uW"),i={name:"star",props:{size:{type:Number},score:{type:Number}},computed:{starType:function(){return"star-"+this.size},itemClasses:function(){for(var s=[],t=Math.floor(2*this.score)/2,e=t%1!=0,a=Math.floor(t),i=0;i<a;i++)s.push("on");for(e&&s.push("half");s.length<5;)s.push("off");return s}}},l={render:function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"star",class:s.starType},s._l(s.itemClasses,function(t){return e("span",{staticClass:"item",class:t+"-"+s.starType})}))},staticRenderFns:[]};var r=e("VU/8")(i,l,!1,function(s){e("tCig")},"data-v-60af3bbf",null).exports,n={name:"v-header",props:{seller:{type:Object}},data:function(){return{detialshow:!1}},components:{star:r},methods:{showDetail:function(){this.detialshow=!this.detialshow}},created:function(){this.classMap=["decrease","discount","special","invoice","guarantee"]}},c={render:function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{attrs:{id:"header"}},[e("div",{staticClass:"content-wrapper"},[e("div",{staticClass:"avatar"},[e("img",{attrs:{width:"64",height:"64",src:s.seller.avatar}})]),s._v(" "),e("div",{staticClass:"content"},[e("div",{staticClass:"content-title"},[e("span",{staticClass:"brand"}),s._v(" "),e("span",{staticClass:"name"},[s._v(s._s(s.seller.name))])]),s._v(" "),e("div",{staticClass:"description"},[s._v("\n             "+s._s(s.seller.description)+"/"+s._s(s.seller.deliveryTime)+"分钟送达\n           ")]),s._v(" "),s.seller.supports?e("div",{staticClass:"support"},[e("span",{staticClass:"icon",class:s.classMap[s.seller.supports[1].type]}),s._v(" "),e("span",{staticClass:"text"},[s._v(s._s(s.seller.supports[0].description))])]):s._e(),s._v(" "),s.seller.supports?e("div",{staticClass:"support-count",on:{click:s.showDetail}},[e("span",{staticClass:"count"},[s._v(s._s(s.seller.supports.length)+"个")]),s._v(" "),e("i",{staticClass:"iconkeyboard_arrow_right"})]):s._e()])]),s._v(" "),e("div",{staticClass:"bulletin-wrapper",on:{click:s.showDetail}},[e("span",{staticClass:"bulletin-title"}),e("span",{staticClass:"bulletin-text"},[s._v(s._s(s.seller.bulletin))]),s._v(" "),e("i",{staticClass:"iconkeyboard_arrow_right"})]),s._v(" "),e("div",{staticClass:"background"},[e("img",{attrs:{src:s.seller.avatar,width:"100%",height:"100%"}})]),s._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:s.detialshow,expression:"detialshow"}],staticClass:"detail"},[e("div",{staticClass:"detail-wrapper clearfix"},[e("div",{staticClass:"detail-main"},[e("h1",{staticClass:"dname"},[s._v(s._s(s.seller.name))]),s._v(" "),e("div",{staticClass:"star-wrapper"},[e("star",{attrs:{size:48,score:s.seller.score}})],1),s._v(" "),s._m(0),s._v(" "),s.seller.supports?e("ul",{staticClass:"detail-support"},s._l(s.seller.supports,function(t,a){return e("li",[e("span",{staticClass:"dicon",class:s.classMap[s.seller.supports[a].type]}),s._v(" "),e("span",{staticClass:"dtext"},[s._v(s._s(s.seller.supports[a].description))])])})):s._e(),s._v(" "),s._m(1),s._v(" "),e("div",{staticClass:"detail-bulletin"},[e("p",[s._v(s._s(s.seller.bulletin))])])])]),s._v(" "),e("div",{staticClass:"detail-close",on:{click:s.showDetail}},[e("i",{staticClass:"iconclose"})])])])},staticRenderFns:[function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"detail-title"},[t("div",{staticClass:"dline"}),this._v(" "),t("div",{staticClass:"dtext"},[this._v("优惠信息")]),this._v(" "),t("div",{staticClass:"dline"})])},function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"detail-info"},[t("div",{staticClass:"inline"}),this._v(" "),t("div",{staticClass:"intext"},[this._v("商家公告")]),this._v(" "),t("div",{staticClass:"inline"})])}]};var o={name:"App",components:{"v-header":e("VU/8")(n,c,!1,function(s){e("ufca")},null,null).exports},data:function(){return{seller:{},ratings:[]}},mounted:function(){var s=this;this.$http.get("./static/data.json").then(function(t){s.seller=t.data.seller,s.ratings=t.data.ratings}).catch(function(s){console.log(s)})}},v={render:function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{attrs:{id:"app"}},[e("v-header",{attrs:{seller:s.seller}}),s._v(" "),e("div",{staticClass:"tab"},[e("router-link",{attrs:{to:"/"}},[e("div",{staticClass:"tab-items"},[s._v("商品")])]),s._v(" "),e("router-link",{attrs:{to:"/sellers"}},[e("div",{staticClass:"tab-items"},[s._v("商家")])]),s._v(" "),e("router-link",{attrs:{to:"/ratings"}},[e("div",{staticClass:"tab-items"},[s._v("评价")])])],1),s._v(" "),e("router-view",{attrs:{seller:s.seller,ratings:s.ratings}})],1)},staticRenderFns:[]};var d=e("VU/8")(o,v,!1,function(s){e("rpih")},null,null).exports,u=e("/ocq"),p=e("GQaK"),_={name:"carcontrol",props:{food:{type:Object}},created:function(){},methods:{addNum:function(){event._constructed&&(this.food.count?this.food.count++:a.a.set(this.food,"count",1))},decNum:function(){event._constructed&&this.food.count>0&&this.food.count--}}},h={render:function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"carcontrol"},[e("div",{directives:[{name:"show",rawName:"v-show",value:s.food.count>0,expression:"food.count>0"}],staticClass:"car-decrease iconremove_circle_outline",on:{click:s.decNum}}),s._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:s.food.count>0,expression:"food.count>0"}],staticClass:"car-count"},[s._v(s._s(s.food.count))]),s._v(" "),e("div",{staticClass:"car-increase iconadd_circle",on:{click:s.addNum}})])},staticRenderFns:[]};var f=e("VU/8")(_,h,!1,function(s){e("rarg")},null,null).exports,C={name:"shopcar",props:{selectFoods:{type:Array,default:function(){return[]}},deliveryPrice:{type:Number,default:0},minPrice:{type:Number,default:0}},data:function(){return{fold:!0}},methods:{toggleList:function(){this.totalCount&&(this.fold=!this.fold)}},computed:{totalPrice:function(){var s=0;return this.selectFoods.forEach(function(t){s+=t.price*t.count}),s},totalCount:function(){var s=0;return this.selectFoods.forEach(function(t){s+=t.count}),s},payDec:function(){return 0===this.totalPrice?"￥"+this.minPrice+"元起送":this.totalPrice<this.minPrice?"还差￥"+(this.minPrice-this.totalPrice)+"元起送":"去结算"},payClass:function(){return this.totalPrice<this.minPrice?"not-enough":"enough"},listShow:function(){return this.totalCount?!this.fold:(this.fold=!0,!1)}},components:{carcontrol:f}},m={render:function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"shopcar"},[e("div",{staticClass:"scontent",on:{click:s.toggleList}},[e("div",{staticClass:"scontent-left"},[e("div",{staticClass:"logo-wrapper"},[e("div",{staticClass:"logo",class:{heighlight:s.totalCount>0}},[e("span",{staticClass:"iconshopping_cart",class:{textlight:s.totalCount>0}})]),s._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:s.totalCount>0,expression:"totalCount>0"}],staticClass:"num"},[s._v(s._s(s.totalCount))])]),s._v(" "),e("div",{staticClass:"sprice",class:{pricelight:s.totalPrice>0}},[s._v("￥"+s._s(s.totalPrice))]),s._v(" "),e("div",{staticClass:"sdec"},[s._v("另需配送费￥"+s._s(s.deliveryPrice)+"元")])]),s._v(" "),e("div",{staticClass:"scontent-right"},[e("div",{staticClass:"pay",class:s.payClass},[s._v(s._s(s.payDec))])])]),s._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:s.listShow,expression:"listShow"}],staticClass:"shopcar-list",attrs:{transition:"fold-transition"}},[s._m(0),s._v(" "),e("div",{staticClass:"list-content"},[e("ul",s._l(s.selectFoods,function(t){return e("li",{staticClass:"list-food"},[e("span",{staticClass:"list-name"},[s._v(s._s(t.name))]),s._v(" "),e("div",{staticClass:"list-price"},[e("span",[s._v("￥"+s._s(t.price*t.count))])]),s._v(" "),e("div",{staticClass:"lcarcontrol-wrapper"},[e("carcontrol",{attrs:{food:t}})],1)])}))])])])},staticRenderFns:[function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"list-header"},[t("h1",{staticClass:"list-title"},[this._v("购物车")]),this._v(" "),t("span",{staticClass:"list-clear"},[this._v("清空")])])}]};var g=e("VU/8")(C,m,!1,function(s){e("7YP9")},null,null).exports,w={name:"v-goods",props:{seller:{type:Object}},data:function(){return{listHeight:[],scrollY:0,goods:[]}},methods:{initScroll:function(){var s=this;this.menuScroll=new p.a(this.$refs.menuWrapper,{click:!0}),this.foodsScroll=new p.a(this.$refs.foodsWrapper,{probeType:3,click:!0}),this.foodsScroll.on("scroll",function(t){s.scrollY=Math.abs(Math.round(t.y))})},calculateHeight:function(){var s=document.getElementsByClassName("food-list-hook"),t=0;this.listHeight.push(t);for(var e=0;e<s.length;e++){t+=s[e].clientHeight,this.listHeight.push(t)}},selectMenu:function(s,t){if(t._constructed){var e=document.getElementsByClassName("food-list-hook")[s];this.foodsScroll.scrollToElement(e,300)}}},computed:{currentIndex:function(){for(var s=0;s<this.listHeight.length;s++){var t=this.listHeight[s],e=this.listHeight[s+1];if(!e||this.scrollY>=t&&this.scrollY<e)return s}return 0},selectFoods:function(){var s=[];return this.goods.forEach(function(t){t.foods.forEach(function(t){t.count&&s.push(t)})}),s}},created:function(){var s=this,t=this;this.classMap=["decrease-3","discount-3","special-3","invoice-3","guarantee-3"],this.$http.get("./static/data.json").then(function(s){t.goods=s.data.goods}).catch(function(s){console.log(s)}),this.$nextTick(function(){s.initScroll(),s.calculateHeight()})},components:{shopcar:g,carcontrol:f}},y={render:function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{attrs:{id:"goods"}},[e("div",{ref:"menuWrapper",staticClass:"menu-wrapper"},[e("ul",s._l(s.goods,function(t,a){return e("li",{staticClass:"menu-item",class:{current:s.currentIndex==a},on:{click:function(t){s.selectMenu(a,t)}}},[e("span",{staticClass:"text"},[e("span",{directives:[{name:"show",rawName:"v-show",value:t.type>0,expression:"item.type>0"}],staticClass:"icon",class:s.classMap[t.type]}),s._v(s._s(t.name)+"\n  \t\t\t")])])}))]),s._v(" "),e("div",{ref:"foodsWrapper",staticClass:"foods-wrapper"},[e("ul",s._l(s.goods,function(t){return e("li",{staticClass:"food-list food-list-hook"},[e("h1",{staticClass:"ftitle"},[s._v(s._s(t.name))]),s._v(" "),e("ul",s._l(t.foods,function(t){return e("li",{staticClass:"food-item"},[e("div",{staticClass:"ficon"},[e("img",{attrs:{width:"57",height:"57",src:t.icon}})]),s._v(" "),e("div",{staticClass:"fcontent"},[e("h2",{staticClass:"fname"},[s._v(s._s(t.name))]),s._v(" "),e("p",{staticClass:"fdesc"},[s._v(s._s(t.description))]),s._v(" "),e("div",{staticClass:"fextra"},[e("span",{staticClass:"fcount"},[s._v("月售"+s._s(t.sellCount)+"份")]),e("span",[s._v("好评率"+s._s(t.rating)+"%")])]),s._v(" "),e("div",{staticClass:"fprice"},[e("span",{staticClass:"fnow"},[s._v("￥"+s._s(t.price))]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.oldPrice,expression:"food.oldPrice"}],staticClass:"fold"},[s._v("￥"+s._s(t.oldPrice))])]),s._v(" "),e("div",{staticClass:"car-wrapper"},[e("carcontrol",{attrs:{food:t}})],1)])])}))])}))]),s._v(" "),e("shopcar",{attrs:{selectFoods:s.selectFoods,deliveryPrice:s.seller.deliveryPrice,minPrice:s.seller.minPrice}})],1)},staticRenderFns:[]};var x=e("VU/8")(w,y,!1,function(s){e("uw/C")},null,null).exports,b={name:"v-sellers",props:{seller:{type:Object}},data:function(){return{}},components:{star:r},created:function(){this.classMap=["sdecrease-3","sdiscount-3","sguarantee-3","sinvoice-3","sspecial-3"]}},k={render:function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{attrs:{id:"sellers"}},[e("div",{staticClass:"sellers-list"},[e("div",{staticClass:"list-wrapper"},[e("h1",{staticClass:"stitle"},[s._v(s._s(s.seller.name))]),s._v(" "),e("div",{staticClass:"sdec-wrapper"},[e("star",{attrs:{size:36,score:s.seller.score}}),s._v(" "),e("span",{staticClass:"srcount"},[s._v("("+s._s(s.seller.ratingCount)+")")]),s._v(" "),e("span",{staticClass:"sscount"},[s._v("月售"+s._s(s.seller.sellCount)+"单")])],1),s._v(" "),e("div",{staticClass:"sdet-warpper"},[e("div",{staticClass:"ssame"},[e("h2",{staticClass:"sstitle"},[s._v("起送价")]),s._v(" "),e("span",{staticClass:"sprice"},[s._v(s._s(s.seller.minPrice)),e("span",{staticClass:"ptext"},[s._v("元")])])]),s._v(" "),e("div",{staticClass:"ssame"},[e("h2",{staticClass:"sstitle"},[s._v("商家配送")]),s._v(" "),e("span",{staticClass:"sprice"},[s._v(s._s(s.seller.deliveryPrice)),e("span",{staticClass:"ptext"},[s._v("元")])])]),s._v(" "),e("div",{staticClass:"ssame"},[e("h2",{staticClass:"sstitle"},[s._v("平均配送时间")]),s._v(" "),e("span",{staticClass:"sprice"},[s._v(s._s(s.seller.deliveryTime)),e("span",{staticClass:"ptext"},[s._v("分钟")])])])])])]),s._v(" "),e("div",{staticClass:"sempty"}),s._v(" "),e("div",{staticClass:"sellers-list"},[e("div",{staticClass:"list-wrapper"},[e("h3",{staticClass:"stitle"},[s._v("公告与活动")]),s._v(" "),e("div",{staticClass:"bcontent"},[s._v(s._s(s.seller.bulletin))]),s._v(" "),s.seller.supports?e("ul",s._l(s.seller.supports,function(t,a){return e("li",{staticClass:"slist-wrapper"},[e("span",{staticClass:"simg",class:s.classMap[t.type]}),s._v(" "),e("span",{staticClass:"sdec"},[s._v(s._s(t.description))])])})):s._e()])]),s._v(" "),e("div",{staticClass:"sempty"}),s._v(" "),e("div",{staticClass:"senvironment"},[e("div",{staticClass:"environment-wrapper"},[e("h2",{staticClass:"stitle"},[s._v("商家实景")]),s._v(" "),e("ul",s._l(s.seller.pics,function(s){return e("li",{staticClass:"eimg-list"},[e("span",{staticClass:"eimg",attrs:{src:s}})])}))])]),s._v(" "),e("div",{staticClass:"sempty"}),s._v(" "),e("div",{staticClass:"sellers-info"},[e("div",{staticClass:"list-wrapper"},[e("h2",{staticClass:"stitle"},[s._v("商家信息")]),s._v(" "),e("ul",s._l(s.seller.infos,function(t){return e("li",{staticClass:"slist-wrapper s-info"},[e("span",{staticClass:"sinfo"},[s._v(s._s(t))])])}))])])])},staticRenderFns:[]};var P=e("VU/8")(b,k,!1,function(s){e("2lcs")},null,null).exports,N={name:"v-ratings",props:{ratings:{type:Array},seller:{type:Object}},data:function(){return{satisfy:0,unsatisfy:0,text:[]}},methods:{selectHave:function(){var s=document.getElementsByClassName("lis");document.getElementsByClassName("iconcheck_circle")[0].style.color="rgb(0,160,220)";for(var t=0;t<s.length;t++)""===this.text[t]?s[t].style.display="none":s[t].style.display="block"}},mounted:function(){for(var s=0;s<this.ratings.length;s++)this.ratings[s].score>=3?this.satisfy++:this.unsatisfy++,this.text.push(this.ratings[s].text)},components:{star:r}},E={render:function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{attrs:{id:"ratings"}},[e("div",{staticClass:"r-goal"},[e("div",{staticClass:"goal-wrapper"},[e("div",{staticClass:"r-goals"},[e("div",{staticClass:"goals"},[s._v(s._s(s.seller.score))]),s._v(" "),e("div",{staticClass:"tgoals"},[s._v("综合评分")]),s._v(" "),e("div",{staticClass:"hgoals"},[s._v("高于周边商家"+s._s(s.seller.rankRate)+"%")])]),s._v(" "),e("div",{staticClass:"r-atitude"},[e("div",[e("span",{staticClass:"t-atitude"},[s._v("服务态度")]),s._v(" "),e("star",{attrs:{size:36,score:s.seller.serviceScore}}),s._v(" "),e("span",{staticClass:"s-atitude"},[s._v(s._s(s.seller.score))])],1),s._v(" "),e("div",{staticClass:"atitude"},[e("span",{staticClass:"t-atitude"},[s._v("服务态度")]),s._v(" "),e("star",{attrs:{size:36,score:s.seller.serviceScore}}),s._v(" "),e("span",{staticClass:"s-atitude"},[s._v(s._s(s.seller.score))])],1),s._v(" "),e("div",{staticClass:"rtime"},[e("span",{staticClass:"t-rtime"},[s._v("送达时间")]),s._v(" "),e("span",{staticClass:"r-rtime"},[s._v(s._s(s.seller.deliveryTime)+"分钟")])])])])]),s._v(" "),e("div",{staticClass:"sempty"}),s._v(" "),e("div",{staticClass:"customer-ratings"},[e("div",{staticClass:"select-button"},[e("span",[s._v("全部"+s._s(s.ratings.length))]),s._v(" "),e("span",[s._v("满意"+s._s(s.satisfy))]),s._v(" "),e("span",[s._v("不满意"+s._s(s.unsatisfy))])]),s._v(" "),e("div",{staticClass:"select-filter",on:{click:s.selectHave}},[e("span",{staticClass:"iconcheck_circle"}),e("span",[s._v("只看有内容的评价")])])]),s._v(" "),e("div",{staticClass:"select-lists"},[e("ul",s._l(s.ratings,function(t){return e("li",{staticClass:"lis"},[e("div",{staticClass:"all-lists"},[e("div",{staticClass:"avatar"},[e("img",{attrs:{src:t.avatar,width:"28px",height:"28px"}})]),s._v(" "),e("div",{staticClass:"content-list"},[e("div",{staticClass:"ratetime"},[s._v(s._s(t.rateTime))]),s._v(" "),e("div",{staticClass:"username"},[s._v(s._s(t.username))]),s._v(" "),e("star",{attrs:{size:24,score:t.score}}),s._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:t.deliveryTime,expression:"rating.deliveryTime"}],staticClass:"s-delivery"},[s._v(s._s(t.deliveryTime)+"分钟送达")]),s._v(" "),e("div",{staticClass:"s-text"},[s._v(s._s(t.text))]),s._v(" "),e("i",{staticClass:"iconthumb_up"}),s._v(" "),s._l(t.recommend,function(t){return e("span",{staticClass:"s-recommend"},[e("span",[s._v(s._s(t))])])})],2)])])}))])])},staticRenderFns:[]};var $=[{path:"/",component:x},{path:"/sellers",component:P},{path:"/ratings",component:e("VU/8")(N,E,!1,function(s){e("8qks")},null,null).exports}],F=e("mtWM"),M=e.n(F);a.a.config.productionTip=!1,a.a.prototype.$http=M.a,a.a.use(u.a);var T=new u.a({routes:$,mode:"history"});new a.a({el:"#app",components:{App:d},template:"<App/>",router:T})},rarg:function(s,t){},rpih:function(s,t){},tCig:function(s,t){},ufca:function(s,t){},"uw/C":function(s,t){}},["NHnr"]);
//# sourceMappingURL=app.2d94bab1de12ba8176bb.js.map